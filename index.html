<!doctype html>
<html>
  <head>
    <link href="chickenCoop.css" rel="stylesheet" type="text/css" media="all">
    <script src="lib/jquery-1.7.2.js"></script>
    <script src="lib/coffee-script.js"></script>
    <script type="text/coffeescript" src="src/view.coffee"></script>
    <script type="text/coffeescript" src="src/userInput.coffee"></script>
    <script type="text/coffeescript" src="src/bucket.coffee"></script>
    <script type="text/coffeescript" src="src/egg.coffee"></script>
    <script type="text/coffeescript" src="src/scorer.coffee"></script>
    <script type="text/coffeescript" src="src/coop.coffee"></script>
  </head>
  <body>
    <div>Score: <span class="score"></span></div>
    <div>Miss: <span class="miss"></span></div>
    <div class="sprites">
      <div class="line-0 egg-0">O</div>
      <div class="line-0 egg-1">O</div>
      <div class="line-0 egg-2">O</div>
      <div class="line-0 egg-3">O</div>
      <div class="line-0 egg-4">O</div>

      <div class="line-1 egg-0">O</div>
      <div class="line-1 egg-1">O</div>
      <div class="line-1 egg-2">O</div>
      <div class="line-1 egg-3">O</div>
      <div class="line-1 egg-4">O</div>

      <div class="line-2 egg-0">O</div>
      <div class="line-2 egg-1">O</div>
      <div class="line-2 egg-2">O</div>
      <div class="line-2 egg-3">O</div>
      <div class="line-2 egg-4">O</div>

      <div class="line-3 egg-0">O</div>
      <div class="line-3 egg-1">O</div>
      <div class="line-3 egg-2">O</div>
      <div class="line-3 egg-3">O</div>
      <div class="line-3 egg-4">O</div>

      <div id="broken-0" class="left-sequence">>.<</div>
      <div id="broken-1" class="left-sequence"><^></div>
      <div id="broken-2" class="left-sequence"><*</div>
      <div id="broken-3" class="left-sequence"><*</div>
      <div id="broken-4" class="left-sequence"><*</div>

      <div class="bucket-0">__/</div>
      <div class="bucket-1">\__</div>
      <div class="bucket-2">__/</div>
      <div class="bucket-3">\__</div>
    </div>

    <script type="text/coffeescript">
      userInput = new UserInput
      view = new View
      scorer = new Scorer view

      randomizer = 
        nextRandomLine: ->
          return @cpt = (@cpt + 1) % 4 unless @cpt == undefined
          return @cpt = 0

      coop = new Coop scorer, randomizer, view, userInput
      coop.tickDuration = 500
      coop.init()
    </script>
  </body>
</html>
